<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <style>
        #결과창 {}
    </style>
</head>
<body>
    <div id="결과창"></div>
    <div class="보너스"></div>
    <script>
        var 후보군 = Array(45)
        .fill().map(function(요소, 인덱스){
            return 인덱스 + 1;
        })
        console.log(후보군)
        
        var 셔플 = [];
        while(후보군.length > 0){
            var 이동값 = 후보군.splice(Math.floor(Math.random() * 후보군.length), 1)[0];
            셔플.push(이동값);
        }
        console.log(셔플)
        var 보너스 = 셔플[셔플.length - 1];
        var 당첨숫자들 = 셔플
            .slice(0, 6)
            .sort(function(p, c){return p - c}); // 정렬방법: 뺀 결과가 0보다 크면 순서를 바꾼다.
        console.log('당첨숫자들', 당첨숫자들, '보너스', 보너스)

        var 결과창 = document.getElementById('결과창');

        function 공색칠(숫자) {
            var 공 = document.createElement('div');
            공.textContent = 당첨숫자들[숫자];
            공.style.display = 'inline-block';
            공.style.border = '1px solid black';
            공.style.borderRadius = '50px';
            공.style.width = '20px';
            공.style.height = '20px';
            공.style.textAlign = 'center';
            var 배경색;
            if(당첨숫자들[숫자] <= 10){
                배경색 = 'red';
            }else if(당첨숫자들[숫자] <= 20){
                배경색 = 'orange';
            }else if(당첨숫자들[숫자] <= 30){
                배경색 = 'yellow';
            }else if(당첨숫자들[숫자] <= 40){
                배경색 = 'blue';
            }else{
                배경색 = 'green';
            }
            공.style.background = 배경색;
            결과창.appendChild(공);
        }

        for(var i = 0; i < 당첨숫자들.length; i++){
            (function 클로저(j){
                setTimeout(function(){
                    var 공 = document.createElement('div');
                    공색칠(j);
                }, (j + 1) * 1000)
            })(i);
        }
        

        setTimeout(function 비동기콜백함수(){
            var 보너스공 = document.createElement('div');
            보너스공.textContent = 보너스;
            보너스칸.appendChild(보너스공);
        }, 7000)
    </script>
</body>
</html>